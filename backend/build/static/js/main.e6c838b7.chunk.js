(this["webpackJsonproyals-drop-tracker"]=this["webpackJsonproyals-drop-tracker"]||[]).push([[0],{58:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(10),a=n.n(c),s=n(2),i=n(1),o=function(){return Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("h1",{children:"MapleRoyals Drop Tracker"}),Object(i.jsx)("div",{style:{display:"inline"},children:"Game Version: 73.4"}),Object(i.jsx)("div",{style:{display:"inline"},children:"\xa0\xa0\xa0\xa0\xa0\xa0Created By: Shanmango"})]})},u=n(14),d=n.n(u),l=n(3),j=n.n(l),b=n(6),p=n(8),h=n(9),f=n.n(h),O="/api/mobs",m={getSearchList:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(O);case 2:return t=e.sent,n=t.data.map((function(e){return delete e.drops,delete e.maps,e})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(O,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v="/api/items",x={getSearchList:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(v);case 2:return t=e.sent,n=(n=t.data.filter((function(e){return e.mobs.length}))).map((function(e){return delete e.itemType,delete e.desc,delete e.mobs,e})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getById:function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(v,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(e){return{type:"SEARCH_BY",category:e}},g=function(e,t){return function(){var n=Object(b.a)(j.a.mark((function n(r){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null,!e){n.next=12;break}if("mobs"!==t){n.next=8;break}return n.next=5,m.getById(e.value);case 5:n.t0=n.sent,n.next=11;break;case 8:return n.next=10,x.getById(e.value);case 10:n.t0=n.sent;case 11:c=n.t0;case 12:r({type:"SET_SELECTED",data:c});case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:"mobs",selected:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_BY":return Object(p.a)(Object(p.a)({},e),{},{category:t.category});case"SET_SELECTED":return Object(p.a)(Object(p.a)({},e),{},{selected:t.data});case"CLEAR_SELECTED":return Object(p.a)(Object(p.a)({},e),{},{selected:null});default:return e}},S=function(){var e=Object(s.b)(),t=function(t){e({type:"CLEAR_SELECTED"}),e(y(t))},n="mobs"===Object(s.c)((function(e){return e.search.category}));return Object(i.jsxs)("div",{children:["Search by: \xa0 Mob ",Object(i.jsx)("input",{type:"radio",name:"typeselector",checked:n,onChange:function(e){return t("mobs")}}),"\xa0 Item ",Object(i.jsx)("input",{type:"radio",name:"typeselector",checked:!n,onChange:function(e){return t("items")}})]})},w=n(60),I=function(e){var t=e.listItem,n=Object(s.b)(),r=Object(s.c)((function(e){return e.search.category})),c="mobs"===r?"https://maplestory.io/api/GMS/210.1.1/item/".concat(t.id,"/icon?resize=1.5"):"https://maplestory.io/api/GMS/210.1.1/mob/".concat(t.id,"/render/stand");return Object(i.jsxs)("tr",{onClick:function(){return function(e,t){t="mobs"===t?"items":"mobs",n({type:"CLEAR_SELECTED"}),n(y(t)),n(g({value:e.id},t))}(t,r)},children:[Object(i.jsxs)("td",{children:[Object(i.jsx)("div",{children:t.name}),t.desc&&Object(i.jsx)("div",{children:t.desc})]}),Object(i.jsx)("td",{children:Object(i.jsx)("img",{src:c,alt:"img"})})]})},k=function(e){var t=e.list;return 0===t.length?Object(i.jsx)("div",{children:"Either this data isn't available, or this item isn't dropped by any mob :("}):Object(i.jsx)("div",{children:Object(i.jsx)(w.a,{striped:!0,children:Object(i.jsx)("tbody",{children:t.map((function(e){return Object(i.jsx)(I,{listItem:e},e.id)}))})})})},C=function(){var e=Object(s.c)((function(e){return e.search.selected}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:e.name}),Object(i.jsx)("h5",{children:"Drops:"}),Object(i.jsx)(k,{list:e.drops})]})},T=function(){var e=Object(s.c)((function(e){return e.search.selected}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:e.name}),Object(i.jsx)("h5",{children:"Mobs that drop this item:"}),Object(i.jsx)(k,{list:e.mobs})]})},L=function(){var e=Object(s.c)((function(e){return e.search}));return Object(i.jsx)("div",{children:e.selected&&Object(i.jsxs)("div",{children:["mobs"===e.category&&Object(i.jsx)(C,{}),"items"===e.category&&Object(i.jsx)(T,{})]})})},_=function(){var e=Object(s.b)(),t={maxWidth:"200pt"},n=Object(s.c)((function(e){var t=[];return(t="mobs"===e.search.category?e.mobs:e.items)?t.map((function(e){return{value:e.id,label:e.name}})):[]})),r={ignoreCase:!0,ignoreAccents:!0,trim:!0,matchFrom:"start"},c=Object(s.c)((function(e){return e.search.category})),a=function(t){e(g(t,c))};return Object(i.jsxs)("div",{children:[Object(i.jsx)(S,{}),n.length>0&&Object(i.jsx)("div",{style:t,children:Object(i.jsx)(d.a,{components:{DropdownIndicator:function(){return null},IndicatorSeparator:function(){return null}},style:t,placeholder:"Search for a mob or item",isClearable:!0,escapeClearsValue:"true",filterOption:Object(u.createFilter)(r),options:n,onChange:a,value:""})}),n.length<1&&Object(i.jsx)("p",{children:"Drop data is loading..."}),Object(i.jsx)(L,{})]})},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_MOBS":return t.data;default:return e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_ITEMS":return t.data;default:return e}};var M=function(){var e=Object(s.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getSearchList();case 2:n=e.sent,console.log("initialize mobs"),t({type:"INIT_MOBS",data:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(r.useEffect)((function(){e(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getSearchList();case 2:n=e.sent,console.log("intiialize items"),t({type:"INIT_ITEMS",data:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(o,{}),Object(i.jsx)("hr",{}),Object(i.jsx)(_,{})]})},R=n(11),A=n(25),N=n(26),z=Object(R.combineReducers)({mobs:B,items:D,search:E}),G=Object(R.createStore)(z,Object(N.composeWithDevTools)(Object(R.applyMiddleware)(A.a)));n(57);a.a.render(Object(i.jsx)(s.a,{store:G,children:Object(i.jsx)(M,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.e6c838b7.chunk.js.map